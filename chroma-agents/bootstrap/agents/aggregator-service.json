{
  "id": "aggregator-service",
  "document": "Aggregates availability, pricing, and customer data based on the user query. It may call one or more lower-level services depending on context.",
  "metadata": {
    "tags": ["orchestration", "aggregation", "semantic", "coordinator"],
    "provides": ["aggregated_result"],
    "inputs": "location,start_date,end_date,vehicle_type,days,customer_tier,customer_id",
    "outputs": "vehicles,total_price,customer_profile",
    "contract_input": "{\"type\":\"object\",\"properties\":{\"location\":{\"type\":\"string\"},\"start_date\":{\"type\":\"string\",\"format\":\"date\"},\"end_date\":{\"type\":\"string\",\"format\":\"date\"},\"vehicle_type\":{\"type\":\"string\"},\"days\":{\"type\":\"integer\"},\"customer_tier\":{\"type\":\"string\"},\"customer_id\":{\"type\":\"integer\"}},\"required\":[]}",
    "contract_output": "{\"type\":\"object\",\"properties\":{\"vehicles\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\"},\"available\":{\"type\":\"boolean\"},\"location\":{\"type\":\"string\"},\"start_date\":{\"type\":\"string\"},\"end_date\":{\"type\":\"string\"}}}},\"total_price\":{\"type\":\"number\"},\"customer_profile\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"integer\"},\"tier\":{\"type\":\"string\"}}}},\"required\":[]}",
    "example_output": "{\"vehicles\":[{\"type\":\"SUV\",\"available\":true}],\"total_price\":105.0,\"customer_profile\":{\"id\":1234,\"tier\":\"platinum\"}}"
  }
}

